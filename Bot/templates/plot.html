<!DOCTYPE html>
<html>
<head>
	<title>Sialab Platform - Bot Interconnexion</title>
</head>
<body>
	{% load static %}



<!------ Include the above in your HEAD tag ---------->





 <!-- SIALAB -->
	<link href="{% static 'css/base.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'css/sialab.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'css/dashboard_agregat.css' %}" rel="stylesheet" type="text/css">
      <link href= "{% static 'css/jquerry_ui.css' %}" rel="stylesheet" type="text/css">

<!-- Bootstrap css -->
	<link href="{% static 'css/bootstrap_slider_min.css' %}" rel="stylesheet" type="text/css">

<!-- Script pour plotly  -->
	<script src="{% static 'js/plotly.js' %}" type="text/javascript"></script> 
 
<!-- Script pour jquerry  -->
   	<script src="{% static 'js/jquery_min.js' %}" type="text/javascript"></script>	
      <script src="{% static 'js/jquery_ui.js' %}" type="text/javascript"></script>
      <link rel="stylesheet" "{% static 'css/jquerry_ui.css' %}" type="text/css">

 <!-- Script fonction.js  -->
	<script src="{% static 'js/graph1.js' %}" type="text/javascript"></script>
	<script src="{% static 'js/makeplot_exchange.js' %}" type="text/javascript"></script> 
	<script src="{% static 'js/makeplot_load_curve.js' %}" type="text/javascript"></script> 
	<script src="{% static 'js/makeplot_load_curve_bleu.js' %}" type="text/javascript"></script> 
	<script src="{% static 'js/makeplot_countries.js' %}" type="text/javascript"></script> 
	<script src="{% static 'js/makeplot_installed_capa.js' %}" type="text/javascript"></script> 	 
	<script src="{% static 'js/map.js' %}" type="text/javascript"></script> 

 <!-- Script pour infobulle  -->
	<script src="{% static 'js/bootstrap min.js' %}" type="text/javascript"></script>

 <!-- Script pour Slider.js et infobulles  -->
	<script src="{% static 'js/slidebar.js' %}" type="text/javascript"></script>

     <!-- Bandeau -->
	<header>
		<div style="text-align:center;">
			Bot Interconnexion
		</div>
		<div style="text-align:left;margin-top:-30px">
			<a href="http://datascience-lab.sia-partners.com" style="padding-bottom:5px"><b><font color="white" face='calibri' id="ds-link" size="5">Data Science Lab</font></b></a>
		</div>
		<div style="text-align:right;margin-top:-35px">
			<a href="http://sia-partners.com/digital-assets/data-science-lab" style="padding-bottom:0px"><img height="30px" id="logo_sia_partners" src="{% static 'img/logo3.png' %}" style="margin-right:100px" width="165px"></a>
		</div>
	</header>
	<div id="content">
		<div class="tab-content">
			<div class="tab-pane active" id="tab-dashboard" role="tabpanel">
				<div class="container-fluid" style="padding-top:70px">
					<div class="row" style="margin-top:10px;">
						<div class="col-md-9">
						</div>
					</div>


					<div class="row" style="height:10px;">
					</div>


					<div class="row">
						<div class="col-md-3">
							<div class="panel panel-default panel-hidden-print">
								<div id="parametre_1" class="panel-heading">
									<span class="pull-left"><i class="glyphicon glyphicon-info-sign" id="info_bulle_1"></i></span>

									<h3 class="panel-title text-center">Taux d'énergie renouvelable</h3>
								</div>


								<div class="panel-body">
									<div class="row" style="height:10px">
									</div>


									<table class="table table-sm table-striped">
										<tbody>
											<tr>
												<th class="col-md-3" scope="row" style="text-align:center;">
													<h6>Taux_FR (%)</h6>
												</th>

												<td class="col-md-6" style="text-align:center; vertical-align:bottom; padding-bottom:20px;padding-left:20px;">
													{% csrf_token %}

													<div>
														
														


														<div id="mytaux1">
                                                                                  <div id="custom-handle_taux1" class="ui-slider-handle"></div>
														</div>
													</div>
												</td>
											</tr>


											<tr>
												<th class="col-md-3" scope="row" style="text-align:center;">
													<h6>Taux_ALL (%)</h6>
												</th>

												<td class="col-md-6" style="text-align:center; vertical-align:bottom; padding-bottom:20px;padding-left:20px;">
													{% csrf_token %}

													<div>
													<!--		<div id="mytaux2" > -->
														</div>
													</div>
												</td>
											</tr>


											<tr>
												<th class="col-md-3" scope="row" style="text-align:center;">
													<h6>Taux_BEL (%)</h6>
												</th>

												<td class="col-md-6" style="text-align:center; vertical-align:bottom; padding-bottom:20px;padding-left:20px;">
													{% csrf_token %}

													<div>
													<!--		<div id="mytaux3" > -->
														</div>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>


							
						</div>


						<div class="col-md-4">
							<div class="panel panel-default panel-hidden-print">
								<div class="panel-heading">
									<span class="pull-left"><i class="glyphicon glyphicon-info-sign" id="info_bulle_2"></i></span>

									<h3 class="panel-title text-center">Courbe de charge</h3>
								</div>


								<div class="row">
									<div class="panel-body col-md-4">
										<select id="Select_pays">
											<option selected value="France">
												France
											</option>

											<option value="Belgique">
												Belgique
											</option>

											<option value="Allemagne">
												Allemagne
											</option>

											<option value="Pays_Bas">
												Pays_Bas
											</option>
										</select>
									</div>


									<div class=" panel-body col-md-8">
										<div id="date_debut">
										</div>


										<div id="date_fin">
										</div>
									</div>
								</div>


								<div style="padding-right:20px;padding-left:20px;">
									<div id="choix_pays" style="display: none;">
									</div>


									<div id="advance_slide" style="padding-right:20px;padding-left:20px;">
									</div>
								</div>


								<div class="panel-body" style="padding-bottom: 0px;">
									<div id="CDC">
										<script type="text/javascript">
										                              makeplot_load_curve("{{ MEDIA_URL }}/data/load_curve_France.csv",new Date(2015, 0, 1, 0, 0),new Date(2015, 0, 8, 23, 30)) 
										</script>
									</div>
								</div>
							</div>
                                </div>

						


						<div class="col-md-5">
							<div class="panel panel-default panel-hidden-print">
								<div class="panel-heading">
									<span class="pull-left"><i class="glyphicon glyphicon-info-sign" id="info_bulle_3"></i></span>

									<h3 class="panel-title text-center">Carte Europe</h3>
								</div>


								<div class="panel-body" style="padding-bottom: 0px;">
									<div class="row">
										<div class="col-sm-8" id="myDiv_map">
											<script type="text/javascript">
											                                 makeplot_map("{{ MEDIA_URL }}/data/data_map_2.csv") 
											</script>
										</div>


										<div class="col-sm-4" id="Countries">
											<script type="text/javascript">
											                                 makeplot_countries("{{ MEDIA_URL }}/data/countries_0.csv") 
											</script>
										</div>
									</div>
								</div>
							</div>
						</div>



                              
                                          <div class="col-md-3">
								<div class="panel panel-default panel-hidden-print">
									<div id="parametre_2" class="panel-heading">
										<span class="pull-left"><i class="glyphicon glyphicon-info-sign" id="info_bulle_4"></i></span>

										<h3 class="panel-title text-center">Choix des NTC</h3>
									</div>


									<div class="panel-body">
										<div class="row" style="height:10px">
										</div>


										<table class="table table-sm table-striped">
											<tbody>
												<tr>
													<th class="col-md-3" scope="row" style="text-align:center;">
														<h6>FR-ALL (MW)</h6>
													</th>

													<td class="col-md-6" style="text-align:center; vertical-align:bottom; padding-bottom:20px;padding-left:20px;">
														{% csrf_token %}

														<div>
                                                                                        
															<div id="myNTC1" >
                                                                                        <div id="custom-handle_NTC1" class="ui-slider-handle"></div>
															</div>
														</div>
													</td>
												</tr>


												 <tr>
													<th class="col-md-3" scope="row" style="text-align:center;">
														<h6>FR-BEL (MW)</h6>
													</th>

													<td class="col-md-6" style="text-align:center; vertical-align:bottom; padding-bottom:20px;padding-left:20px;">
														{% csrf_token %}

														<div>
														<!--	<div id="myNTC2" > -->
															</div>
														</div>
													</td>
												</tr>  


												<tr>
													<th class="col-md-3" scope="row" style="text-align:center;">
														<h6>ALL-BEL (MW)</h6>
													</th>

													<td class="col-md-6" style="text-align:center; vertical-align:bottom; padding-bottom:20px;padding-left:20px;">
														
															{% csrf_token %}

															<div>
														<!--		<div id="myNTC3"> -->
																</div>
															</div>
												
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>

                                    	<div class="col-md-4">
								<div class="panel panel-default panel-hidden-print">
									<div class="panel-heading">

										<div><span class="pull-left"><i class="glyphicon glyphicon-info-sign" id="info_bulle_5"></i></span></div>

										<h3 class="panel-title text-center">Capacités installées</h3>
									</div>


									<div class="panel-body" style="padding-bottom: 0px;">
										<div id="installed_capa">
											<script type="text/javascript">
											                                 makeplot_installed_capa("{% static 'data/capacities.csv' %}") 
											</script>
										</div>
									</div>
								</div>
							</div>
						


                                    <div class="col-md-5">
							<div class="panel panel-default panel-hidden-print">
								<div class="panel-heading">
                                                   
									<span class="pull-left"><i class="glyphicon glyphicon-info-sign" id="info_bulle_6"></i></span>
                            
									<h3 class="panel-title text-center">Etude des saturations</h3>
								</div>
                                                   
								<div class="panel-body" style="padding-bottom: 0px;">
									<div id="Exchange">
										<script type="text/javascript">
										                              makeplot_exchange("{{ MEDIA_URL }}/data/exchanges.csv") 
										</script>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
                              
						
			</div>
		</div>
	</div>

<!-- Script AJAX -->

	<script type="text/javascript" >
function ajax(mytaux1,myNTC1) {

      var text_mytaux1 = mytaux1.toString(); 
	var file_countries = "{{ MEDIA_URL }}/data/countries_" + text_mytaux1 + ".csv"

        
	$.ajax({
		url: "/plot2/",
		method: "POST",
		data: {
			mytaux1: mytaux1,
			mytaux2: $('#mytaux2').val(),
			mytaux3: $('#mytaux3').val(),
			myNTC1: $('#myNTC1').val(),
			myNTC2: $('#myNTC2').val(),
			myNTC3: $('#myNTC3').val(),
			'csrfmiddlewaretoken': "{{ csrf_token }}"
		},
		dataType: "json",
		success: function(data_optim) { 
			// alert(myNTC1)
			makeplot_countries(file_countries);
		}
	});
};


function ajax2(choix_pays,date_debut,date_fin) {


      var  load_curve_0 = "{{ MEDIA_URL }}/data/load_curve_" + choix_pays + ".csv"
      //var  load_curve_1 = "{{ MEDIA_URL }}/data/load_curve_" + choix_pays[1] + ".csv"  
     // var  load_curve_2 = "{{ MEDIA_URL }}/data/load_curve_" + choix_pays[2] + ".csv"    
     // var  load_curve_3 = "{{ MEDIA_URL }}/data/load_curve_" + choix_pays[3] + ".csv" 
        
	$.ajax({
		url: "/plot3/",
		method: "POST",
		data: {
                 date_debut:date_debut,
                 date_fin:date_fin,
                 choix_pays_0:choix_pays,
			'csrfmiddlewaretoken': "{{ csrf_token }}"
		},
		dataType: "json",
		success: function(data_optim2) { 
		       //alert(load_curve_0)
			
                 makeplot_load_curve(load_curve_0,date_debut,date_fin);
               
		}
	});
};
</script>
	                                
</body>
</html>